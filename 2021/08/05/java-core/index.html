<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>java-core - 个人博客</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="个人博客"><meta name="msapplication-TileImage" content="/img/dog.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="个人博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="简单性 面向对象 网络技能 健壮性 安全性 体系结构中立 可移植性 解释型 高性能 多线程 动态性"><meta property="og:type" content="article"><meta property="og:title" content="java-core"><meta property="og:url" content="http://yuchhbyte.com/2021/08/05/java-core/"><meta property="og:site_name" content="个人博客"><meta property="og:description" content="简单性 面向对象 网络技能 健壮性 安全性 体系结构中立 可移植性 解释型 高性能 多线程 动态性"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/71c28ff8a4d5dbb6b2540fafc261b5ef.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/d918722fca633ea09758f08f4f3e23f8.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/100604e502879ab19eb2f9f70f12e781.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/6c5a65e1fc6a254fbe283bf5aff9b05b.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/3443ed2823db79259b06880ceeea052a.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/535ca1589b039fc8e96087cfe351ac92.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/c26d4cc5fe63c3d2838fda291770b728.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/ebe6602dd82872e63a710c6950ab9983.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/974ec0b833bb6fe37ae855d938674fd9.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/image-20210301201934830.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/70476a6a27e9bc9248aed693b74490db.png"><meta property="og:image" content="http://yuchhbyte.com/2021/08/05/java-core/java-core/dae4f96bdb4a5a31737ff5cb2ce788c3.png"><meta property="article:published_time" content="2021-08-04T16:00:00.000Z"><meta property="article:modified_time" content="2021-08-05T04:46:22.199Z"><meta property="article:author" content="鸽德巴赫"><meta property="article:tag" content="java"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="java-core/71c28ff8a4d5dbb6b2540fafc261b5ef.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yuchhbyte.com/2021/08/05/java-core/"},"headline":"java-core","image":["http://yuchhbyte.com/2021/08/05/java-core/java-core/71c28ff8a4d5dbb6b2540fafc261b5ef.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/d918722fca633ea09758f08f4f3e23f8.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/100604e502879ab19eb2f9f70f12e781.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/6c5a65e1fc6a254fbe283bf5aff9b05b.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/3443ed2823db79259b06880ceeea052a.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/535ca1589b039fc8e96087cfe351ac92.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/c26d4cc5fe63c3d2838fda291770b728.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/ebe6602dd82872e63a710c6950ab9983.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/974ec0b833bb6fe37ae855d938674fd9.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/image-20210301201934830.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/70476a6a27e9bc9248aed693b74490db.png","http://yuchhbyte.com/2021/08/05/java-core/java-core/dae4f96bdb4a5a31737ff5cb2ce788c3.png"],"datePublished":"2021-08-04T16:00:00.000Z","dateModified":"2021-08-05T04:46:22.199Z","author":{"@type":"Person","name":"鸽德巴赫"},"publisher":{"@type":"Organization","name":"个人博客","logo":{"@type":"ImageObject","url":"http://yuchhbyte.com/img/dog.jpg"}},"description":"简单性 面向对象 网络技能 健壮性 安全性 体系结构中立 可移植性 解释型 高性能 多线程 动态性"}</script><link rel="canonical" href="http://yuchhbyte.com/2021/08/05/java-core/"><link rel="icon" href="/img/dog.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/dog.jpg" alt="个人博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives/">归档</a><a class="navbar-item" href="/categories/">分类</a><a class="navbar-item" href="/tags/">标签</a><a class="navbar-item" href="/about/">关于</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-08-04T16:00:00.000Z" title="2021/8/5 上午12:00:00">2021-08-05</time>发表</span><span class="level-item"><time dateTime="2021-08-05T04:46:22.199Z" title="2021/8/5 下午12:46:22">2021-08-05</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/java/">java</a></span></div></div><h1 class="title is-3 is-size-4-mobile">java-core</h1><div class="content"><ul>
<li>简单性</li>
<li>面向对象</li>
<li>网络技能</li>
<li>健壮性</li>
<li>安全性</li>
<li>体系结构中立</li>
<li>可移植性</li>
<li>解释型</li>
<li>高性能</li>
<li>多线程</li>
<li>动态性</li>
</ul>
<span id="more"></span>


<h1 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Base64Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>public：访问修饰符</li>
<li>class：关键字，后紧跟类名</li>
<li>main：程序入口</li>
</ul>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是个注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 这也是个注释</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h3><table>
<thead>
<tr>
<th>类型</th>
<th>存储需求</th>
<th>取值范围</th>
<th>表示</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>4 Byte</td>
<td>-2^32 ~ 2^32 - 1</td>
<td>100</td>
</tr>
<tr>
<td>short</td>
<td>2 Byte</td>
<td>-2^16 ~ 2^16 - 1</td>
<td>100</td>
</tr>
<tr>
<td>long</td>
<td>8 Byte</td>
<td>-2^64 ~ 2^64 - 1</td>
<td>100L</td>
</tr>
<tr>
<td>byte</td>
<td>1 Byte</td>
<td>-2^8 ~ 2^8 - 1 (-128 ~ 127)</td>
<td>100</td>
</tr>
</tbody></table>
<blockquote>
<p>十六进制：前缀0x，0x100</p>
<p>八进制：前缀0（如：0100），容易混淆，少用</p>
<p>二进制：前缀0b</p>
</blockquote>
<h3 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h3><table>
<thead>
<tr>
<th>类型</th>
<th>存储需求</th>
<th>取值范围</th>
<th>表示</th>
</tr>
</thead>
<tbody><tr>
<td>float</td>
<td>4 Byte</td>
<td>有效位数6~7位</td>
<td>100.123F</td>
</tr>
<tr>
<td>double</td>
<td>8 Byte</td>
<td>有效位数15位</td>
<td>100.123D</td>
</tr>
</tbody></table>
<blockquote>
<p>特殊值：</p>
<blockquote>
<p>正无穷大：POSITIVE_INFINITY</p>
<p>负无穷大：NEGATIVE_INFINITY</p>
<p>不是一个数：NaNm，用法 Double.isNaN(var)</p>
</blockquote>
<p>浮点数计算会有误差，要准确计算需使用BigDecimal类</p>
</blockquote>
<h3 id="char"><a href="#char" class="headerlink" title="char"></a>char</h3><ul>
<li>定义：用于表示单个字符，即1个unicode代码单元（取值范围，unicode第一平面的索引：0-65535）</li>
<li>长度：2 Byte</li>
<li>代码点：一个编码表中的某个字符对应的代码</li>
<li>代码单元：组成字符的具体字节称为代码单元</li>
<li>unocide编码：多语言编码，可以分为17个代码级别<ul>
<li>基本的多语言级别：U+0000-U+FFFF</li>
<li>附加级别：U+10000-U+10FFFF</li>
<li>utf-16保留区域<ul>
<li>UTF-16的高半区：U+D800-U+DBFF</li>
<li>UTF-16的低半区：U+DC00-U+DFFF</li>
</ul>
</li>
</ul>
</li>
<li>utf-16编码：变长，2/4字节<ul>
<li>基本的多语言级别：1个代码单元16位（2 Byte），即1个char</li>
<li>附加级别：2个代码单元32位（4 Byte），即2个char</li>
<li>级别区分：附加级别的单个代码单元范围会在utf-16保留区域内，即读一个单元，在保留区域就是附加级别，需读第二个单元<ul>
<li>第一个代码单元：U+D800-U+DBFF</li>
<li>第二个代码单元：U+DC00-U+DFFF</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="bool"><a href="#bool" class="headerlink" title="bool"></a>bool</h3><ul>
<li>值：true/false</li>
<li>整形值和boolean之前不能互相转换</li>
</ul>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><ul>
<li>变量名：字母开头，由字母和数字构成的序列<ul>
<li>大小写敏感，长度不限制</li>
<li>字母范围包括A-Z，a-z，’_’，$或在某种语言种代表字母的unicode字符</li>
<li>数字0-9，某种语言中代表数字的unicode字符</li>
<li>使用方法isJavaIdentifierStart和isJavaIdentifierPart判断是否可以</li>
</ul>
</li>
<li>变量初始化<ul>
<li>全局变量自动初始化</li>
<li>局部变量使用前需初始化</li>
</ul>
</li>
<li>常量：<ul>
<li>final + static修饰的变量</li>
<li>只能被赋值一次，一旦赋值就不能更改</li>
<li>习惯上常量名使用全大写</li>
</ul>
</li>
</ul>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><ul>
<li>+</li>
<li>-</li>
<li>*</li>
<li>/</li>
</ul>
<h3 id="自增、自减"><a href="#自增、自减" class="headerlink" title="自增、自减"></a>自增、自减</h3><ul>
<li>i++</li>
<li>++i</li>
<li>i–</li>
<li>–i</li>
</ul>
<h3 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h3><ul>
<li>==</li>
<li>!=</li>
<li>“&gt;”</li>
<li>&lt;</li>
<li>“&gt;=”</li>
<li>&lt;=</li>
</ul>
<h3 id="布尔运算"><a href="#布尔运算" class="headerlink" title="布尔运算"></a>布尔运算</h3><ul>
<li>与 &amp;&amp;</li>
<li>或 ||</li>
<li>非 !</li>
<li>三目运算符 ?:<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ex1 ? ex2 : ex3</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><ul>
<li>与 &amp;</li>
<li>或 |</li>
<li>异或 ^</li>
<li>非 ~</li>
<li>右移 “&gt;&gt;”</li>
<li>左移 &lt;&lt;</li>
<li>用0填充高位 “&gt;&gt;&gt;”</li>
</ul>
<h3 id="数学运算与常量"><a href="#数学运算与常量" class="headerlink" title="数学运算与常量"></a>数学运算与常量</h3><p>Math类提供了各种各样的数学函数</p>
<ul>
<li>平方根sqrt</li>
<li>绝对值abs</li>
<li>三角函数<ul>
<li>sin</li>
<li>cos</li>
<li>tan</li>
<li>atan</li>
<li>atan2</li>
</ul>
</li>
<li>指数函数及其反函数<ul>
<li>exp</li>
<li>log</li>
<li>log10</li>
</ul>
</li>
<li>派的近似值PI</li>
<li>e常量的近似值E</li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ul>
<li>整形转换：byte-&gt;short-&gt;int-&gt;long，数据长度增加，不损失精度</li>
<li>浮点转换：float-&gt;double，数据长度增加，不损失精度</li>
<li>整形转浮点<ul>
<li>int -&gt; double，数据长度增加，不损失精度</li>
<li>int -&gt; float，long -&gt; double数据长度减少，可能损失精度</li>
</ul>
</li>
<li>char-&gt;int：char转int，char指向的内存中的二进制内容，只是对它的使用改变了<ul>
<li>int的值是char的ascii码</li>
<li>获取char表示的数值：Character.getNumericValue(c)或Integer.parseInt(String.valueOf(c)); </li>
</ul>
</li>
<li>不同类型的计算，默认会将长度小的类型升格为大的类型，在进行计算如：long + int -&gt; long</li>
</ul>
<h3 id="强制转换"><a href="#强制转换" class="headerlink" title="强制转换"></a>强制转换</h3><ul>
<li>本质上是读取的内存中的数据缩小了，变量类型变了，对应的数据范围变了，实际数据未改变</li>
<li>如(byte)300-&gt;44，读1个字节（从低到高读），300（1 0010 1100），44（0010 1100）</li>
<li>如double x=9.997, int nx = (int) x，nx的值为9，只读取了低4byte数据</li>
</ul>
<h3 id="括号与算术符优先级"><a href="#括号与算术符优先级" class="headerlink" title="括号与算术符优先级"></a>括号与算术符优先级</h3><p><img src="java-core/71c28ff8a4d5dbb6b2540fafc261b5ef.png" alt="截图"></p>
<h3 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h3><p>定义：变量的取值只在一个有限的集合内</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Size</span> </span>&#123;SMALL, MEDIUM, LARGE. EXTRA_LARGE&#125;</span><br></pre></td></tr></table></figure>



<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><ul>
<li>定义：字符串就是unicode字符序列</li>
<li>内部存储为byte数组，所有的操作按char进行</li>
<li>java没有内置字符串类型，而是提供的java.lang.String类</li>
</ul>
<h3 id="子串"><a href="#子串" class="headerlink" title="子串"></a>子串</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">substring(<span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//[0,3)</span></span><br><span class="line"><span class="comment">//0,1,2,不包括3</span></span><br><span class="line"><span class="comment">//长度3-0=3</span></span><br></pre></td></tr></table></figure>

<h3 id="拼接"><a href="#拼接" class="headerlink" title="拼接"></a>拼接</h3><ul>
<li>使用“+”连接两个字符串</li>
<li>一个字符串与一个非字符串的值进行拼接，后者被转换为字符串</li>
</ul>
<h3 id="不可变字符串"><a href="#不可变字符串" class="headerlink" title="不可变字符串"></a>不可变字符串</h3><ul>
<li>string对象的内容都是不可变的</li>
<li>编译器让字符串以对象池方式进行共享，以提高性能</li>
<li>只有常量字符串是在对象池中共享的，即加了final的字符串</li>
</ul>
<h3 id="检测是否相等"><a href="#检测是否相等" class="headerlink" title="检测是否相等"></a>检测是否相等</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不能使用”==“进行判断”==“对于对象，判断的是地址是否相同，多个相同的字符串，其地址可能不同</span></span><br><span class="line">s.equals(t)</span><br></pre></td></tr></table></figure>



<h3 id="空串与null串"><a href="#空串与null串" class="headerlink" title="空串与null串"></a>空串与null串</h3><ul>
<li><p>空串：“”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符长度0</span></span><br><span class="line">str.length() == <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 内容为空</span></span><br><span class="line"><span class="string">&quot;&quot;</span>.equals(str)</span><br></pre></td></tr></table></figure></li>
<li><p>null：表示该变量没有与任何对象关联</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str == <span class="keyword">null</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="代码点和代码单元"><a href="#代码点和代码单元" class="headerlink" title="代码点和代码单元"></a>代码点和代码单元</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回index处unicode代码点索引，如 𝕫 的unicode编码：U+1D56B（十六进制），十进制：120171</span></span><br><span class="line"><span class="comment">// 代码点转char：Character.toChars得到char数组 ，如 Character.toChars(0x1D56B) = [D835, DD6B]</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">codePointAt</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回startIndex到endIndex-1之间的代码点数量，没有配成对的代码字符将计入代码点</span></span></span><br><span class="line"><span class="function"><span class="comment">// 例：int count = str.codePointCount(0,str.length())</span></span></span><br><span class="line"><span class="function">- <span class="keyword">int</span> <span class="title">codePointCount</span><span class="params">(<span class="keyword">int</span> startIndex, <span class="keyword">int</span> endIndex)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回从startIndex代码点开始，位移cpCount后的代码点索引</span></span></span><br><span class="line"><span class="function">- <span class="keyword">int</span> <span class="title">offsetByCodePoionts</span><span class="params">(<span class="keyword">int</span> startIndex, <span class="keyword">int</span> cpCount)</span></span></span><br></pre></td></tr></table></figure>



<h3 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回字符的长度（按char计）（byte数组长度/2）</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回index的char值(0 &lt; index &lt; s.length - 1)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//比较两个字符串中每个char值，返回长度差/char相减差</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String other)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//如果字符串以suffix结尾，返回true</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">endsWith</span><span class="params">(String suffix)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//如果字符串与other相等，返回true</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object other)</span></span></span><br><span class="line"><span class="function">  </span></span><br><span class="line"><span class="function"><span class="comment">//如果字符串与other相等，返回true</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">equalsIgnoeCase</span><span class="params">(Object other)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回与字符串str或代码点cp匹配的第一个字串的开始位置</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">indexOf</span><span class="params">(String str/<span class="keyword">int</span> cp)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回与字符串str或代码点cp匹配的最后一个字串的开始位置</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(String str/<span class="keyword">int</span> cp)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//使用newString替换oldString，可以用String/StringBuilder作为参数</span></span></span><br><span class="line"><span class="function">String <span class="title">replace</span><span class="params">(CharSequence oldString, CharSequence  newString)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回截取beginIndex到endIndex-1的字符串</span></span></span><br><span class="line"><span class="function">String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> beginIndex, <span class="keyword">int</span> endIndex)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//字符串所有大写字母改小写</span></span></span><br><span class="line"><span class="function">String <span class="title">toLowerCase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//字符串所有小写字母改大写</span></span></span><br><span class="line"><span class="function">String <span class="title">toUpperCase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//删除字符串前后空格</span></span></span><br><span class="line"><span class="function">String <span class="title">trim</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>



<h2 id="构建字符串"><a href="#构建字符串" class="headerlink" title="构建字符串"></a>构建字符串</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 内部使用byte数组存储，方法的操作单位都是char，StringBuffer线程安全，一般使用StringBuilder</span></span><br><span class="line">AbstractStringBuilder</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组中char的数量</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 追加一个字符串，并返回this</span></span></span><br><span class="line"><span class="function">StringBuilder <span class="title">append</span><span class="params">(String str)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 追加一个代码单元并返回this</span></span></span><br><span class="line"><span class="function">StringBuiler <span class="title">append</span><span class="params">(<span class="keyword">char</span> ch)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 追加一个代码点并返回this</span></span></span><br><span class="line"><span class="function">StringBuiler <span class="title">appendCodePoint</span><span class="params">(<span class="keyword">int</span> cp)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 将第i个char设置为c</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setCharAt</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 在offset位置插入一个字符串并返回this</span></span></span><br><span class="line"><span class="function">StringBuilder <span class="title">insert</span><span class="params">(<span class="keyword">int</span> offset, String str)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 在offset位置插入一个char并返回this</span></span></span><br><span class="line"><span class="function">StringBuilder <span class="title">insert</span><span class="params">(<span class="keyword">int</span> offset, <span class="keyword">char</span> ch)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 删除startIndex~endInde-1的char并返回this</span></span></span><br><span class="line"><span class="function">StringBuilder <span class="title">delete</span><span class="params">(<span class="keyword">int</span> startIndex, <span class="keyword">int</span> endIndex)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回一个与构建器内容相同的字符串</span></span></span><br><span class="line"><span class="function">String <span class="title">toString</span><span class="params">()</span>  </span></span><br></pre></td></tr></table></figure>



<h2 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h2><h3 id="控制台输入（Scanner）"><a href="#控制台输入（Scanner）" class="headerlink" title="控制台输入（Scanner）"></a>控制台输入（Scanner）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用给定的输入流创建一个Scanne对象</span></span><br><span class="line"><span class="comment">// System.in：标准输入</span></span><br><span class="line"><span class="comment">// System.out：标准输出</span></span><br><span class="line">Scanner (InputStream in)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取输入的下一行内容</span></span><br><span class="line"><span class="function">String <span class="title">nextLine</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 读取输入的下一个单词（空格作为分隔符）</span></span></span><br><span class="line"><span class="function">String <span class="title">next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 读取并转换下一个表示整数/浮点数的字符序列</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">nextInt</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">nextDouble</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 检测输入中是否还有其他单词</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 否还有表示整数/浮点数的下一个字符序列</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasNextInt</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">hasNextDouble</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>



<h3 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h3><ul>
<li>遵循c的printf规范</li>
<li>占位符：%</li>
<li>参数索引：%X$，如%2$，表示第二个传入的参数</li>
<li>将被格式化的数值类型<br><img src="java-core/d918722fca633ea09758f08f4f3e23f8.png" alt="截图"></li>
<li>输出各种标志<br><img src="java-core/100604e502879ab19eb2f9f70f12e781.png" alt="截图"></li>
<li>日期和时间转换符<br><img src="java-core/6c5a65e1fc6a254fbe283bf5aff9b05b.png" alt="截图"><br><img src="java-core/3443ed2823db79259b06880ceeea052a.png" alt="截图"></li>
<li>格式说明<br><img src="java-core/535ca1589b039fc8e96087cfe351ac92.png" alt="截图"></li>
</ul>
<h3 id="文件输入和输出"><a href="#文件输入和输出" class="headerlink" title="文件输入和输出"></a>文件输入和输出</h3><ul>
<li>输入：Scanner in = new Scanner(Paths.get(“file.txt”));</li>
<li>输出：PrintWriter out = new PrintWriter(“file.txt”);</li>
</ul>
<h2 id="控制流程"><a href="#控制流程" class="headerlink" title="控制流程"></a>控制流程</h2><h3 id="块作用域"><a href="#块作用域" class="headerlink" title="块作用域"></a>块作用域</h3><ul>
<li>块：复合语句块</li>
<li>由一对 “{ }” 括起来的若干条java语句</li>
<li>块确定了变量的作用域</li>
<li>允许嵌套，一个块可以嵌套在另一个块之中</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  ...</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">  &#125; <span class="comment">// k is only defined up to here</span></span><br><span class="line">&#125;<span class="comment">// n is only defined up to here</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  ...</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">int</span> n; <span class="comment">//ERROR 不能在嵌套的两个块中声明同名的变量</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) statement</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用块语句，执行多条语句</span></span><br><span class="line"><span class="keyword">if</span> (contidion) &#123;</span><br><span class="line">  statement1;</span><br><span class="line">  statement2;</span><br><span class="line">  statement3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//分支</span></span><br><span class="line"><span class="keyword">if</span> (condition) statement1</span><br><span class="line"><span class="keyword">else</span> statement2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//多分支</span></span><br><span class="line"><span class="keyword">if</span> (condition1) <span class="function">statement1</span></span><br><span class="line"><span class="function"><span class="keyword">else</span> <span class="title">if</span><span class="params">(condition2)</span> statement2</span></span><br><span class="line"><span class="function"><span class="keyword">else</span> <span class="title">if</span><span class="params">(condition3)</span> statement3</span></span><br><span class="line"><span class="function"><span class="keyword">else</span> statement4</span></span><br></pre></td></tr></table></figure>

<ul>
<li>if语句流程图<br><img src="java-core/c26d4cc5fe63c3d2838fda291770b728.png" alt="截图"></li>
<li>if/else流程图<br><img src="java-core/ebe6602dd82872e63a710c6950ab9983.png" alt="截图"></li>
<li>if/else if(多分支)流程图<br><img src="java-core/974ec0b833bb6fe37ae855d938674fd9.png" alt="截图"></li>
</ul>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><ul>
<li>常用流程<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) statement</span><br><span class="line"></span><br><span class="line"><span class="comment">//执行多条语句</span></span><br><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  statement1;</span><br><span class="line">  statement2;</span><br><span class="line">  statement3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>do-while<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">do</span> statement <span class="title">while</span> <span class="params">(condition)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//执行多条语句</span></span></span><br><span class="line"><span class="function"><span class="keyword">do</span> </span>&#123;</span><br><span class="line">  statement1;</span><br><span class="line">  statement2;</span><br><span class="line">  statement3;</span><br><span class="line">&#125; <span class="keyword">while</span> (condition) </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="确定循环"><a href="#确定循环" class="headerlink" title="确定循环"></a>确定循环</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">  statement1;</span><br><span class="line">  statement2;</span><br><span class="line">  statement3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="多重选择switch"><a href="#多重选择switch" class="headerlink" title="多重选择switch"></a>多重选择switch</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (choice)&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&quot;case1&quot;</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&quot;case2&quot;</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&quot;case3&quot;</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>如果没有break，会继续执行下一个case分支</li>
<li>case的标签<ul>
<li>是char，byte，short，int</li>
<li>枚举常量，不必显示指出枚举类名，由表达式自动推导</li>
<li>String（java se 7+）</li>
</ul>
</li>
</ul>
<h3 id="循环控制"><a href="#循环控制" class="headerlink" title="循环控制"></a>循环控制</h3><ul>
<li>中断循环break</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span>(xxx) <span class="keyword">break</span>;</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>跳过此次循环continue</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span>(xxx) <span class="keyword">continue</span>;</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="大数值"><a href="#大数值" class="headerlink" title="大数值"></a>大数值</h2><h3 id="BigInteger：任意精度整数运算"><a href="#BigInteger：任意精度整数运算" class="headerlink" title="BigInteger：任意精度整数运算"></a>BigInteger：任意精度整数运算</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> BigInteger <span class="title">valueOf</span><span class="params">(<span class="keyword">long</span> val)</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">add</span><span class="params">(BigInteger val)</span>	<span class="comment">//加</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">subtract</span><span class="params">(BigInteger val)</span>	<span class="comment">//减</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">multiply</span><span class="params">(BigInteger val)</span> <span class="comment">//乘</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">divide</span><span class="params">(BigInteger val)</span> <span class="comment">//除</span></span></span><br><span class="line"><span class="function">BigInteger <span class="title">mod</span><span class="params">(BigInteger m)</span> <span class="comment">//取余</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(BigInteger val)</span> <span class="comment">//比较大小</span></span></span><br></pre></td></tr></table></figure>



<h3 id="BigDemical：任意精度浮点数运算"><a href="#BigDemical：任意精度浮点数运算" class="headerlink" title="BigDemical：任意精度浮点数运算"></a>BigDemical：任意精度浮点数运算</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> BigDecimal <span class="title">valueOf</span><span class="params">(<span class="keyword">double</span> val)</span></span></span><br><span class="line"><span class="function">BigDecimal <span class="title">add</span><span class="params">(BigDecimal augend)</span> <span class="comment">//加</span></span></span><br><span class="line"><span class="function">BigDecimal <span class="title">subtract</span><span class="params">(BigDecimal subtrahend)</span><span class="comment">//减</span></span></span><br><span class="line"><span class="function">BigDecimal <span class="title">multiply</span><span class="params">(BigDecimal multiplicand)</span><span class="comment">//乘</span></span></span><br><span class="line"><span class="function">BigDecimal <span class="title">divide</span><span class="params">(BigDecimal divisor)</span><span class="comment">//除</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(BigDecimal val)</span><span class="comment">//比较大小</span></span></span><br></pre></td></tr></table></figure>



<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><p>使用new创建数组，指出数组类型，数组变量的名字：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int[] a = new int[100];</span><br></pre></td></tr></table></figure>

<blockquote>
<p>默认值：数字数组初始化为0，boolean数组初始化为false，对象数组初始化为null</p>
<p>数组一旦创建就不能改变大小</p>
<p>a.length获取长度</p>
</blockquote>
<h3 id="for-each循环"><a href="#for-each循环" class="headerlink" title="for each循环"></a>for each循环</h3><p>只能遍历一维数组</p>
<p>collection可以是数组或实现了Iterable接口的对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个变量variable用于暂存collection中的元素，并执行相应的语句（块）statement </span></span><br><span class="line"><span class="keyword">for</span> (variable : collection) statement;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 快速打印数组元素</span></span><br><span class="line">String str = Arrays.toString(collection);</span><br></pre></td></tr></table></figure>



<h3 id="数组初始化及匿名数组"><a href="#数组初始化及匿名数组" class="headerlink" title="数组初始化及匿名数组"></a>数组初始化及匿名数组</h3><ul>
<li>初始化<br>int[] a = new int[] {1, 2, 3, 4, 5, 6};</li>
<li>简化<br>int[] a = {1, 2, 3, 4, 5, 6};</li>
<li>匿名<br>new int[] {1, 2, 3, 4, 5, 6};</li>
</ul>
<h3 id="数组拷贝"><a href="#数组拷贝" class="headerlink" title="数组拷贝"></a>数组拷贝</h3><ul>
<li>地址传递<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = b</span><br></pre></td></tr></table></figure></li>
<li>内容拷贝<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] b = Arrays.copyOf(a, a.lenth);</span><br><span class="line"></span><br><span class="line"><span class="comment">//扩张，多余的元素会被初始化为0/false/null</span></span><br><span class="line"><span class="keyword">int</span>[] b = Arrays.copyOf(a, a.lenth * <span class="number">2</span>);</span><br><span class="line"><span class="comment">//裁剪，只拷贝最前面的元素</span></span><br><span class="line"><span class="keyword">int</span>[] b = Arrays.copyOf(a, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>对于对象数组，拷贝的是对象的引用，即浅拷贝</p>
</blockquote>
</li>
</ul>
<h3 id="命令行参数"><a href="#命令行参数" class="headerlink" title="命令行参数"></a>命令行参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java Message -g curel world</span><br><span class="line">arg[0] = &quot;-g&quot;;</span><br><span class="line">arg[1] = “curle”;</span><br><span class="line">arg[2] = &quot;world&quot;;</span><br></pre></td></tr></table></figure>



<h3 id="Arrays函数"><a href="#Arrays函数" class="headerlink" title="Arrays函数"></a>Arrays函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回包含a中元素的字符串</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">toString</span><span class="params">(type[] a)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回与original类型相同的数组，长度为newLength</span></span></span><br><span class="line"><span class="function">- <span class="keyword">static</span> type[] <span class="title">copyOf</span><span class="params">(type[] original, <span class="keyword">int</span> newLength)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回与original类型相同的数组，长度为to-from</span></span></span><br><span class="line"><span class="function">- <span class="keyword">static</span> type[] <span class="title">copyOfRange</span><span class="params">(type[] original, <span class="keyword">int</span> from, <span class="keyword">int</span> to)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 采用优化的快速排序算法对数组进行排序</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(type[] a)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 将数组a的所有元素设置为val  </span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fill</span><span class="params">(type[] a, type val)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="function"> * 采用二分查找法，查找key，找到则返回相应的下标，否则返回负数值r，-r-1是为保持a有序key应插入的位置</span></span></span><br><span class="line"><span class="comment"><span class="function"> * a：有序数组，类型为数字</span></span></span><br><span class="line"><span class="comment"><span class="function"> * fromIndex：起始下标，包含这个值</span></span></span><br><span class="line"><span class="comment"><span class="function"> * toIndex：终止下标，不好含这个值</span></span></span><br><span class="line"><span class="comment"><span class="function"> * key：同a元素数据类型相同的值</span></span></span><br><span class="line"><span class="comment"><span class="function">*/</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(type[] a, type key)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(type[] a, <span class="keyword">int</span> fromIndex, <span class="keyword">int</span> toIndex, type key)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 如果两个数组大小相同且下标元素相同，则返回true</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> type <span class="title">equals</span><span class="params">(type[] a, type[] a2)</span>  </span></span><br></pre></td></tr></table></figure>



<h3 id="多维数组与不规则数组"><a href="#多维数组与不规则数组" class="headerlink" title="多维数组与不规则数组"></a>多维数组与不规则数组</h3><ul>
<li>声明<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组的内容是数组</span></span><br><span class="line"><span class="keyword">int</span>[][] a = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;&#125;;</span><br></pre></td></tr></table></figure></li>
<li>不规则数组<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//即数中的数组长度不一致</span></span><br><span class="line"><span class="keyword">int</span>[][] a = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="对象与类"><a href="#对象与类" class="headerlink" title="对象与类"></a>对象与类</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>类：将数据与行为组合在一个包中<ul>
<li>状态</li>
<li>方法</li>
</ul>
</li>
<li>对象：类的实例，通过对象标识区别不同对象</li>
<li>类名：类名为名词，方法为动词</li>
<li>类之间的关系<ul>
<li>依赖：use-a</li>
<li>聚合：has-a</li>
<li>继承：is-a</li>
</ul>
</li>
</ul>
<h2 id="类使用"><a href="#类使用" class="headerlink" title="类使用"></a>类使用</h2><ul>
<li>构造对象：ClassXXX xxx = new ClassXXX(var1, var2, var3);<blockquote>
<p>xxx为对象的引用，即对象地址</p>
</blockquote>
</li>
<li>调用方法：xxx.functionXXX(var1, var2, var3);<blockquote>
<p>通过使用方法而不是直接调用类变量，可以有效控制数据的访问，为后续的扩展提供便利</p>
</blockquote>
</li>
<li>访问变量：xxx.var1;</li>
</ul>
<h2 id="类组成"><a href="#类组成" class="headerlink" title="类组成"></a>类组成</h2><ul>
<li>变量</li>
<li>方法<ul>
<li>构造器操作符：new引用类中其他构造器：使用“this”</li>
<li>普通方法：操作符：“.”引用类中其他方法：使用方法名</li>
<li>参数元类型：传值，拷贝值引用类型：传址，拷贝地址，内部函数对地址的修改不影响外部变量</li>
<li>重载定义：方法有相同的名字，但是参数不同重载解析：编译器通过对参数类型的匹配来确定指向哪个方法</li>
</ul>
</li>
</ul>
<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><ul>
<li><p>访问控制</p>
<ul>
<li>public：公共访问权限</li>
<li>private： 私有访问权限</li>
<li>protected：继承访问权限，同包下也可访问</li>
<li>default：包访问权限, 无关键字</li>
</ul>
<blockquote>
<p>一个方法可以访问所属类的所有对象的私有数据</p>
<p>控制符之间互斥，一次只能有一个控制符</p>
</blockquote>
</li>
<li><p>final：变量修饰符</p>
<ul>
<li>构建对象时必须对final变量进行初始化</li>
<li>初始化后不能在变更（即那一块内存区域内容固定）</li>
</ul>
<blockquote>
<p>元数据：内容不能在变更</p>
<p>对象变量：指向的对象不能在修改</p>
</blockquote>
</li>
<li><p>static</p>
<p>用途：修饰变量，方法，语句块，被修饰的部分，归属于类而不是对象，即所有对象共享同一份static变量、方法 </p>
<ul>
<li>静态常量<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.14159265358979323846</span> </span><br></pre></td></tr></table></figure></li>
<li>静态方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态方法只能访问静态变量</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getNextldO</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> nextld ; <span class="comment">// returns static field</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过类名访问</span></span><br><span class="line"><span class="keyword">int</span> n = Employee.getNextldO();</span><br></pre></td></tr></table></figure></li>
<li>工厂方法：静态方法的常见用途<ul>
<li>无法命名构造器构造器的名字必须与类名相同。这里希望将得到的货币实例和百分比实例采用不用的名字。</li>
<li>构造不同类型的对象当使用构造器时，无法改变所构造的对象类型。而Factory方法将返回一个DecimalFormat类对象</li>
</ul>
</li>
<li>main方法程序入口，main方法不对任何对象进行操作。事实上，在启动程序时还没有任何一个对象。静态的main方法将执行并创建程序所需要的对象</li>
</ul>
</li>
</ul>
<h2 id="对象构造"><a href="#对象构造" class="headerlink" title="对象构造"></a>对象构造</h2><ul>
<li>无参构造函数仅当类没有提供任何构造器的时候 ，系统才会提供一个无参的构造器</li>
<li>域初始化<ul>
<li>默认初始化如果没有显示的赋值，则自动赋予默认值，数值为0，bool为false，对象引用为null</li>
<li>显示初始化<ul>
<li>域定义时就进行赋值</li>
<li>通过构造器赋值</li>
</ul>
</li>
</ul>
</li>
<li>初始化块：调用构造器时就会被执行<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...;</span><br><span class="line">  ...;</span><br><span class="line">  ...;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态初始化块，只会被执行一次</span></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">  ...;</span><br><span class="line">  ...;</span><br><span class="line">  ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>初始化顺序<ol>
<li>所有数据域被初始化为默认值（0，false，null）</li>
<li>类第一次初始化，按照在类中声明的次序执行静态域初始化语句及静态初始化块</li>
<li>按照在类中声明的次序，依次执行实例域初始化语句及实例初始化块</li>
<li>如果构造器第一行调用了第二个构造器，则执行第二个构造器主体</li>
<li>执行这个构造器的主体</li>
</ol>
<blockquote>
<p>即：域默认值 &gt; 静态域、静态块 &gt; 实例域、实例块 &gt; 构造器</p>
</blockquote>
</li>
<li>对象析构：finalize方法可以为类添加finalize方法，finalize方法将在垃圾回收器清除对象之前调用</li>
</ul>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><ul>
<li>包名如：package com.study.java;<blockquote>
<p>类的包名要与类路径匹配，com.study.java对应com/study/java/</p>
</blockquote>
</li>
<li>类的导入<ul>
<li><p>默认，全路径方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.time.LocalDate today = java.time.LocalDate.now ();</span><br></pre></td></tr></table></figure></li>
<li><p>导入：使用import</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import java.time.LocalDate;</span><br><span class="line">LocalDate today =LocalDate.now ();</span><br></pre></td></tr></table></figure></li>
<li><p>静态导入：import static</p>
</li>
<li><p>可以用“*”导入包中的所有类，一个import仅允许导入一个包</p>
</li>
</ul>
</li>
</ul>
<h2 id="类路径"><a href="#类路径" class="headerlink" title="类路径"></a>类路径</h2><ul>
<li>类路径：包含所有类文件路径的集合，是搜寻类的起始点<ul>
<li>当前目录：”.”</li>
<li>class基目录：/home/user/classdir</li>
<li>jar文件：archiver.jar</li>
</ul>
</li>
<li>设置类路径<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -classpath /home/user/classdir:.:/home/user/archives/archiver.jar</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="文档注释"><a href="#文档注释" class="headerlink" title="文档注释"></a>文档注释</h2><ul>
<li>类注释对类进行描述<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* xxxxx</span></span><br><span class="line"><span class="comment">* xxxxx</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
<li>方法注释<ul>
<li>@param：参数描述，一个方法的所有参数描述必须放在一起</li>
<li>@return：返回值描述</li>
<li>@throws：异常描述<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* @param xxxxxx</span><br><span class="line">* @return xxxxxxx</span><br><span class="line">* @throws xxxxxx</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>域注释<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * The scale of this BigDecimal, as returned by &#123;@link #scale&#125;.</span><br><span class="line"> *</span><br><span class="line"> * @serial</span><br><span class="line"> * @see #scale</span><br><span class="line"> */</span><br></pre></td></tr></table></figure></li>
<li>通用注释<ul>
<li>@auther：作者</li>
<li>@version：版本</li>
<li>@since：始于</li>
<li>@deprecated：不推荐</li>
<li>@see：引用，可以加超链接</li>
</ul>
</li>
<li>包与概述注释</li>
<li>注释的抽取</li>
</ul>
<h1 id="继承（类的扩展）"><a href="#继承（类的扩展）" class="headerlink" title="继承（类的扩展）"></a>继承（类的扩展）</h1><h2 id="类、超类、子类"><a href="#类、超类、子类" class="headerlink" title="类、超类、子类"></a>类、超类、子类</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul>
<li><p>定义</p>
<ul>
<li>extends：使用extends表明新类派生于一个已存在的类</li>
<li>super：子类调用超类内容使用super关键字</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Manager</span> <span class="keyword">extends</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line">	.....</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Manager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(...);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xxx</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.xxx(...);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>已存在的类称为超类，新类称为子类，因此子类拥有比超类更多的数据和功能</p>
<p>面向对象设计中，习惯性将通用方法放在超类，特殊方法放到子类</p>
</blockquote>
</li>
<li><p>覆盖方法</p>
<ul>
<li>java允许子类提供一个新的方法来覆盖超类中的</li>
<li>允许子类将返回类型修改位原返回类型的子类</li>
<li>方法可见性不能低于超类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Manager</span> <span class="keyword">extends</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">      </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSlary</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>子类构造器</p>
<ul>
<li>子类的构造器必须调用超类构造器，且必须在第一条语句</li>
<li>如果没有显示调用，则默认调用无参构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Manager</span> <span class="params">(String name, <span class="keyword">double</span> salary, <span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">super</span> (name, salary, year, month, day ) ;</span><br><span class="line">  bonus = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>阻止继承</p>
<p>关键字：final</p>
<p>功能：用于阻止该类/方法的扩展，如String</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在类上</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Executive</span> <span class="keyword">extends</span> <span class="title">Manager</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	...</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>抽象类</p>
<p>关键字：abstract，用于表示基类，而不是特定的实例类</p>
<p>功能：可以定义抽象方法，还可以包含具体的数据与方法，介于接口与实例类之间的一种类</p>
<ul>
<li>不包含抽象方法也可声明为抽象类</li>
<li>抽象类不能实例化，只能引用非抽象的子类对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name ;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul>
<li><p>多态</p>
<p>定义：一个对象变量可以指示多种实际类型的现象称为多态</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Employee e ;</span><br><span class="line">e = <span class="keyword">new</span> Employee (...) ; <span class="comment">// Employee object expected</span></span><br><span class="line">e = <span class="keyword">new</span> Manager (...) ; <span class="comment">// OK, Manager can be used as well</span></span><br><span class="line"></span><br><span class="line">Manager[] managers = <span class="keyword">new</span> Manager[<span class="number">10</span>];</span><br><span class="line">Employee[] staff = managers; <span class="comment">//合法</span></span><br><span class="line">staff[<span class="number">0</span>] = <span class="keyword">new</span> Employee(); <span class="comment">//非法，会抛出ArrayStoreException</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>数组会记录创建时的元素类型，仅将类型兼容的引用存储到数组中</p>
</blockquote>
</li>
<li><p>方法调用过程</p>
<ol>
<li><p>查看对象的类型和方法名</p>
</li>
<li><p>确定入参类型</p>
</li>
<li><p>通过入参类型确定方法</p>
<ol>
<li>如果存在一个与所提供参数完全匹配的方法，就选择这个方法（这个过程称为重载解析）</li>
<li>如果未找到与参数类型匹配的方法或者经过类型转换后有多个方法与之匹配，编译器会报告错误</li>
</ol>
</li>
<li><p>确定方法</p>
<p>静态绑定：具有唯一性，可以直接确定具体方法（private、static、final、构造器）</p>
<p>动态绑定：存在多个相同的方法签名，要通过方法表来确定x所引用对象的实际类型对应的方法</p>
</li>
<li><p>方法寻找的过程中，因为存在继承关系，在子类中不存在该方法时，要去其父类中寻找，每次调用都去搜索开销大</p>
</li>
<li><p>编译器生成方法表，列出所有方法的签名（方法的名字和参数列表称为方法的签名）和要调用的实际方法，虚拟机根据放发表进行调用</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Employee：</span><br><span class="line">  getName() -&gt; Employee.getName();</span><br><span class="line">  getSalary() -&gt; Employee.getSalary();</span><br><span class="line">  getHireDay() -&gt; Employee.getHireDay();</span><br><span class="line">  raiseSalary(<span class="keyword">double</span>) -&gt; Employee.raiseSalary(<span class="keyword">double</span>);</span><br><span class="line"></span><br><span class="line">Manager:</span><br><span class="line">  getName() -&gt; Employee.getName();</span><br><span class="line">  getSalary() -&gt; Manager.getSalary();</span><br><span class="line">  getHireDay() -&gt; Employee.getHireDay();</span><br><span class="line">  raiseSalary(<span class="keyword">double</span>) -&gt; Employee.raiseSalary(<span class="keyword">double</span>);</span><br><span class="line">  setBouns(<span class="keyword">double</span>) -&gt; Manager.setBouns(<span class="keyword">double</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>目的：实现无需对现有代码进行修改就可以对程序进行扩展</p>
</blockquote>
</li>
<li><p>对象类型转换</p>
<ul>
<li>目的：使用对象的全部功能</li>
<li>在Java中，每个对象变量都属于一个类型。类型描述了这个变量所引用的以及能够引用的对象类型。</li>
<li>java是强类型语言，对象的转换与存储都会执行类型检查，异常时抛出ClassCastException</li>
<li>转换之前进行类型判断，可以避免抛出ClassCastException异常</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (staff[<span class="number">1</span>] <span class="keyword">instanceof</span> Manager)</span><br><span class="line">&#123;</span><br><span class="line">	boss = (Manager) staff[<span class="number">1</span>];</span><br><span class="line">  	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Object：所有类的超类"><a href="#Object：所有类的超类" class="headerlink" title="Object：所有类的超类"></a>Object：所有类的超类</h2><ul>
<li>Object是所有类的始祖类，默认自动继承，不需要显示声明java中除了基本类型外都继承object（包括基本类型数组）</li>
<li>equals：用于检测一个对象是否等于另外一个对象<ul>
<li>引用相同（object默认）</li>
<li>字段相等（lombok重写），如数据库层DTO类</li>
</ul>
</li>
<li>hashCode<ul>
<li>Object的默认hash由存储地址得出</li>
<li>String的hash由内容得出equals相等，hashCode也要相等</li>
</ul>
</li>
<li>toString<ul>
<li>object默认会打印类名+散列码</li>
<li>字符串+对象：自动调用对象的toString方法进行拼接</li>
</ul>
</li>
</ul>
<h3 id="相等测试与继承"><a href="#相等测试与继承" class="headerlink" title="相等测试与继承"></a>相等测试与继承</h3><ul>
<li><p>原则</p>
<ul>
<li><p>自反性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.equals(x) = <span class="keyword">true</span></span><br></pre></td></tr></table></figure></li>
<li><p>对称性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x.equals(y) = <span class="keyword">true</span>;</span><br><span class="line">y.equals(x) = <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>传递性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x, y, z;</span><br><span class="line">x.quals(y) = <span class="keyword">true</span>;</span><br><span class="line">y.equals(z) = <span class="keyword">true</span>;</span><br><span class="line">z.equals(x) = <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>一致性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x，y对象无变化</span></span><br><span class="line">x.equals(y) <span class="comment">// true 返回值不变</span></span><br><span class="line">x.equals(y) <span class="comment">// true 返回值不变</span></span><br><span class="line">x.equals(y) <span class="comment">// true 返回值不变</span></span><br><span class="line">x.equals(y) <span class="comment">// true 返回值不变</span></span><br><span class="line">x.equals(y) <span class="comment">// true 返回值不变</span></span><br></pre></td></tr></table></figure></li>
<li><p>null</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.equals(<span class="keyword">null</span>) = <span class="keyword">false</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>继承与相等性：java类库中各有各的逻辑，没有统一标准</p>
<ul>
<li>由子类决定相等性，则对称性需要强制使用getClass检测</li>
<li>由超类决定相等性，使用instanceOf检测，这样可以比较不同的子类对象</li>
</ul>
</li>
<li><p>equals编写建议</p>
<ol>
<li><p>显示参数命名为otherObject</p>
</li>
<li><p>比较引用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span> == otherObject) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">if</span>(otherObject == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>比较类型，视详情使用instanceOf/getClass</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(getClass() != otherObject.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">if</span>(!(otherObject instanceOf ClassName)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>比较字段</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本类型用 ==</span></span><br><span class="line"><span class="number">3</span> == <span class="number">5</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">// 对象用equals</span></span><br><span class="line">Employee e1,e2;</span><br><span class="line">...</span><br><span class="line">e1.equals(e2);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h2 id="对象包装器与自动装箱、拆箱"><a href="#对象包装器与自动装箱、拆箱" class="headerlink" title="对象包装器与自动装箱、拆箱"></a>对象包装器与自动装箱、拆箱</h2><p>实际是编译器生成的语法糖</p>
<ul>
<li><p>包装器：将基本类型包装成对象的类（Integer、Long、Float、Double、Short、Byte、Character、Boolean）</p>
<ul>
<li>包装器是不可变对象</li>
<li>包装器是final的，不允许继承</li>
</ul>
</li>
<li><p>装箱：int -&gt; Integer，由编译器自动完成而不是虚拟机</p>
</li>
<li><p>拆箱：Integer -&gt; int，由编译器自动完成而不是虚拟机</p>
</li>
<li><p>比较</p>
<ul>
<li>“==”基本类型比值，包装器比较的是对象的引用（编译器默认比较规则）</li>
<li>boolean、byte、char&lt;=127、介于-128和127之间的short和int被包装到固定对象中（对象池），此时==两边的对象是同一个</li>
</ul>
</li>
<li><p>使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Integer n = <span class="number">1</span>;</span><br><span class="line">n++;	<span class="comment">// 拆箱，自增计算，装箱</span></span><br><span class="line"></span><br><span class="line">Double x = <span class="number">2.0</span>;</span><br><span class="line">Double y = n + x	<span class="comment">//Integer拆箱，提升为dobuel，Double拆箱，进行计算，结果装箱为Double</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> result = <span class="keyword">true</span> ? n : x;	<span class="comment">//Integer拆箱，提升为dobuel在装箱为Double</span></span><br></pre></td></tr></table></figure></li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回对象的int值</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">intValue</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回对象的十进制字符串</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回对象的指定进制的字符串</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> radix)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回字符串表示的整数，s必须是十进制</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回字符串表示的整数，按radix进行进制解析</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String s, <span class="keyword">int</span> radix)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回字符串表示的Integer，s必须是十进制</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回字符串表示的Integer，按radix进行进制解析</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(String s, <span class="keyword">int</span> radix)</span>    </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="参数变量可变的方法"><a href="#参数变量可变的方法" class="headerlink" title="参数变量可变的方法"></a>参数变量可变的方法</h2><p>实际是编译器生成的语法糖</p>
<ul>
<li><p>语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> PrintStream <span class="title">printf</span><span class="params">(String fmt, Object... args)</span> </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>编译器会将args参数绑定到数组中，”Object…”类型等同于”Object[]”</p>
</li>
<li><p>args中还可以包含数组参数</p>
</li>
</ul>
<h2 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h2><ul>
<li><p>枚举类的构造器是私有的</p>
</li>
<li><p>所有的枚举类都是java.lang.Enum类的子类</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Size</span> </span>&#123; SMALL, MEDIUM, LARGE, EXTRA_LARGE &#125;</span><br><span class="line"></span><br><span class="line">Size[] values = Size.values;</span><br><span class="line"></span><br><span class="line"><span class="comment">// java.lang.Enum 方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回给定类型中有指定名字的枚举常量</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Enum <span class="title">valueOf</span><span class="params">(Class enumType, String name)</span></span></span><br><span class="line"><span class="function"><span class="comment">// 如：Size s = Enum.valueOf(Size.class, &quot;SMALL&quot;);</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">// 返回枚举常量名</span></span></span><br><span class="line"><span class="function">String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回枚举常量在enum声明中的位置，从0开始</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ordinal</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">// 比较两个枚举的位置，this==other返回0，this在other之前返回负整数，this在other之后返回正整数</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(E o)</span></span></span><br></pre></td></tr></table></figure>



<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>Java 运行时系统始终为所有的对象维护一个被称为运行时的类型标识 。这个信息跟踪着每个对象所属的类 。 虚拟机利用运行时类型信息选择相应的方法执行。反射库可以对类型信息进行读取和操作。</p>
<ul>
<li>运行时分析类的能力</li>
<li>运行时查看对象</li>
<li>实现通用的数组操作代码</li>
<li>利用Method动态调用对象的方法</li>
</ul>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><p>定义：保存运行时对象类型信息的类</p>
<p>如：Employee.class，int.class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.getClass()</span></span><br><span class="line">Employee e = <span class="keyword">new</span> Employee();</span><br><span class="line">Class cl = e.getClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Class.forName()</span></span><br><span class="line">String className = <span class="string">&quot;java.util.Random&quot;</span>;</span><br><span class="line">Class cl = Class.forName(className);</span><br><span class="line"></span><br><span class="line"><span class="comment">// XX.class</span></span><br><span class="line">Class cl1 = Random.class;</span><br><span class="line">Class cl2 = <span class="keyword">int</span>.class;</span><br><span class="line">Class cl3 = Double[].class;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取类名</span></span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">// String.class.getName() returns &quot;java.lang.String&quot;</span></span></span><br><span class="line"><span class="function"><span class="comment">// Double[].class.getName() returns &quot;[Ljava.lang.Double;&quot;</span></span></span><br><span class="line"><span class="function"><span class="comment">// int[].class.getName() returns &quot;[I&quot;</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">// 比较</span></span></span><br><span class="line"><span class="function">Class cl1 </span>= <span class="keyword">new</span> Employee().getClass();</span><br><span class="line">Class cl2 = <span class="keyword">new</span> Employee().getClass();</span><br><span class="line">cla == cl2 <span class="comment">// true，同一个类的对象，class是同一个</span></span><br></pre></td></tr></table></figure>



<h3 id="分析类的能力"><a href="#分析类的能力" class="headerlink" title="分析类的能力"></a>分析类的能力</h3><ul>
<li>Field：域</li>
<li>Method：方法</li>
<li>Constructor：构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">java.lang.Class</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回类提供的public域，方法，构造器，包括超类的成员</span></span><br><span class="line">Field[] getFields();</span><br><span class="line">Method[] getMethods()</span><br><span class="line">Constructor&lt;?&gt;[] getConstructors()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回类中声明的全部域，方法，构造器，包括私有和受保护成员，但不包括超类</span></span><br><span class="line">Field[] getDeclaredFields()</span><br><span class="line">Method[] getDeclaredMethods()</span><br><span class="line">Constructor&lt;?&gt;[] getDeclaredConstructors()</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.Field</span><br><span class="line">java.lang.reflect.Method</span><br><span class="line">java.lang.reflect.Constructor</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回该域/方法/构造器由哪个class定义</span></span><br><span class="line">Class&lt;?&gt; getDeclaringClass()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回变量/方法/构造器名称</span></span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回修饰符的整形数值</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getModifiers</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// Constructor、Method</span></span></span><br><span class="line"><span class="function"><span class="comment">// 返回方法抛出的异常类型的Class对象数组</span></span></span><br><span class="line"><span class="function">Class&lt;?&gt;[] <span class="title">getExceptionTypes</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// Constructor、Method</span></span></span><br><span class="line"><span class="function"><span class="comment">// 返回一个用于描述参数类型的Class对象数组</span></span></span><br><span class="line"><span class="function">Class&lt;?&gt;[] <span class="title">getParameterTypes</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// Constructor、Method</span></span></span><br><span class="line"><span class="function"><span class="comment">// 返回一个用于描述返回类型的Class对象</span></span></span><br><span class="line"><span class="function">Class&lt;?&gt; <span class="title">getReturnType</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.<span class="function">Modifier</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isAbstract</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isFinal</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isInterface</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isNative</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPublic</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPrivate</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isProtected</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isStatic</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isStrict</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isSynchronized</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isVolatile</span><span class="params">(<span class="keyword">int</span> mod)</span></span></span><br></pre></td></tr></table></figure>

<h3 id="分析对象"><a href="#分析对象" class="headerlink" title="分析对象"></a>分析对象</h3><ol>
<li>反射机制受限于java的访问控制</li>
<li>如果一个java程序没有受到安全管理器的控制，就可以覆盖访问控制</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.AccessibleObject</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置可访问标志，flag为true表明屏蔽java语言的访问检查，使得私有属性也可以被查询和设置</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setAccessible</span><span class="params">(<span class="keyword">boolean</span> flag)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 返回对象的可访问标志的值</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">canAccess</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 设置一组对象的可访问标志</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setAccessible</span><span class="params">(AccessibleObject[] array, <span class="keyword">boolean</span> flag)</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java.lang.Field</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回obj中用Filed对象表示的域值</span></span><br><span class="line"><span class="function">Object <span class="title">get</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// obj对象中Field对象标识表示的域设置新值</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(Object obj, Object value)</span></span></span><br></pre></td></tr></table></figure>

<h3 id="数组操作"><a href="#数组操作" class="headerlink" title="数组操作"></a>数组操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.Array</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取数组元素</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Object <span class="title">get</span><span class="params">(Object array, <span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> xxx <span class="title">getXxx</span><span class="params">(Object array, <span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 设定数组元素</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(Object array, <span class="keyword">int</span> index, Object value)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setXxx</span><span class="params">(Object array, <span class="keyword">int</span> index, Object value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 获取数组长度</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">int</span> <span class="title">getLength</span><span class="params">(Object array)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 创建一个新数组</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Object <span class="title">newInstance</span><span class="params">(Class&lt;?&gt; componentType, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Object <span class="title">newInstance</span><span class="params">(Class&lt;?&gt; componentType, <span class="keyword">int</span>... dimensions)</span></span></span><br></pre></td></tr></table></figure>

<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.Method</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *	obj：对象</span></span><br><span class="line"><span class="comment"> *  args：参数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span></span></span><br></pre></td></tr></table></figure>



<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><p>接口不是类，而是对希望符合这个接口的类的一组需求。</p>
<p>java是强类型语言，名字相同但未实现接口，则不能进行转换，即类型不同。</p>
<h2 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>接口中的方法总是public的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">implements</span> <span class="title">Compareable</span></span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">// 使用</span></span><br><span class="line"><span class="class"><span class="title">Double</span>.<span class="title">compare</span>(<span class="title">e1</span>,<span class="title">e2</span>)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="接口的属性"><a href="#接口的属性" class="headerlink" title="接口的属性"></a>接口的属性</h3><p>接口中的字段总是public static final</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Powered</span> <span class="keyword">extends</span> <span class="title">Moveable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> SPEED_LIMIT = <span class="number">95</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口与抽象类"><a href="#接口与抽象类" class="headerlink" title="接口与抽象类"></a>接口与抽象类</h3><p>每个类只能扩展一个类，却能实现多个接口</p>
<p>抽象类是一个类，类是对象的具体描述，其属性可以有不同的实例。</p>
<p>接口是行为规范，定义类的行为，接口的属性是单例的。</p>
<h3 id="静态和私有方法"><a href="#静态和私有方法" class="headerlink" title="静态和私有方法"></a>静态和私有方法</h3><p>从java8开始允许在接口中增加静态方法。</p>
<p>之前，通常是建立一个伴随类，将静态方法放在伴随类中，如Path/Paths，Collection/Collections</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Path</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Path <span class="title">of</span><span class="params">(URI uri)</span> </span>&#123;...&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Path <span class="title">of</span><span class="params">(String first, String... more)</span> </span>&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="默认方法"><a href="#默认方法" class="headerlink" title="默认方法"></a>默认方法</h3><p>接口可以定义默认的实现，关键字default</p>
<p>默认方法一般用于“接口演化”，对接口增加新的定义后，不必对旧有实现进行修改。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">default</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T other)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="默认方法冲突"><a href="#默认方法冲突" class="headerlink" title="默认方法冲突"></a>默认方法冲突</h3><p>如果两个接口存在同名的方法， 且都定义了默认方法，会造成二义性。</p>
<p>处理：实现类必须显示覆盖来解决冲突，即由实现类处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">default</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Named</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">default</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Person</span>, <span class="title">Nmaed</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// 可以使用其中一个默认实现</span></span><br><span class="line">		<span class="keyword">return</span> Person.<span class="keyword">super</span>.getNmae();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h2><h3 id="接口与回调"><a href="#接口与回调" class="headerlink" title="接口与回调"></a>接口与回调</h3><p>回调：一种设计模式，可以指定在特定事情发生时应该采取的动作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent event)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimerPrinter</span> <span class="keyword">implements</span> <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent event)</span></span>&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> listener = <span class="keyword">new</span> TimePrinter();</span><br><span class="line">Timer t = <span class="keyword">new</span> Timer(<span class="number">1000</span>, listener);</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure>

<h3 id="Comparator接口"><a href="#Comparator接口" class="headerlink" title="Comparator接口"></a>Comparator接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LengthComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span></span>&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cmp = <span class="keyword">new</span> LengthComparator();</span><br><span class="line"><span class="keyword">if</span>(cmp.compare(words[i],words[jk]) &gt; <span class="number">0</span>) ...</span><br><span class="line">Arrays.sort(array, cmp);</span><br></pre></td></tr></table></figure>

<h3 id="对象克隆"><a href="#对象克隆" class="headerlink" title="对象克隆"></a>对象克隆</h3><ul>
<li><p>拷贝与克隆的区别：</p>
<p>Copy是复制对象的引用，指向的对象是同一个。</p>
<p>Clone是复制整个对象的值，指向的对象不同。</p>
<p>Clone：Object默认实现，浅拷贝。内部对象只复制引用。</p>
<p>Deep Clone：需要具体类自己做，内部对象都要复制一份。</p>
</li>
</ul>
<p><img src="java-core/image-20210301201934830.png" alt="image-20210301201934830"></p>
<ul>
<li><p>使用</p>
<p>clone是object的protect方法，子类需要重新定义一个public方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 重写，将protected修改为public，继承可以扩张修饰符的范围，接口方法的范围不能扩张(没有比public更大了)</span></span><br><span class="line">    <span class="comment">// 如果这个对象没有实现Cloneable接口，Object的clone方法会抛出CloneNotSupportedException异常</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Employee <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">		<span class="comment">//deep clone</span></span><br><span class="line">        Employee cloned = <span class="keyword">super</span>.clone();</span><br><span class="line">        cloned.hireDay = (Date)hireDay.clone();</span><br><span class="line">        <span class="keyword">return</span> cloned;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> original = <span class="keyword">new</span> Employee(<span class="string">&quot;Jone Public&quot;</span>， <span class="number">50000</span>);</span><br><span class="line"><span class="keyword">var</span> copy = original.clone();</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a>lambda表达式</h2><p>lambda表达式是一个可传递的代码块，可以在以后执行一次或多次。</p>
<p>实际是编译器的生成的语法糖。</p>
<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(Type param) -&gt; statement/&#123;...&#125;</span><br><span class="line"></span><br><span class="line">(String first, String second) -&gt; &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以没有参数</span></span><br><span class="line">() -&gt; &#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果可以推导出类型，则可以省略类型</span></span><br><span class="line">(first, second) -&gt; &#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果只有一个参数，且可以推导出类型，则可以省略括号</span></span><br><span class="line">first -&gt; &#123;...&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数式接口"><a href="#函数式接口" class="headerlink" title="函数式接口"></a>函数式接口</h3><p>只有一个抽象方法的接口，需要这种接口的对象时，就可以提供一个lambda表达式。</p>
<p>lambda表达式本质上是个语法糖，编译器将lambda表达式转换为函数式接口的实现类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以Comparable接口为例，更多接口在java.util.function包中</span></span><br><span class="line">Arrays.sort(words, (fitrst, second) -&gt; first.length() - second.length());</span><br></pre></td></tr></table></figure>

<h3 id="方法引用"><a href="#方法引用" class="headerlink" title="方法引用"></a>方法引用</h3><p>当lambda表达式的内容只有一个方法调用时，可以再次进行缩写;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Timer = <span class="keyword">new</span> Timer(<span class="number">1000</span>, event -&gt; System.out.println(event));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer = <span class="keyword">new</span> Timer(<span class="number">1000</span>, System.out::println);</span><br></pre></td></tr></table></figure>

<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><ul>
<li>object::instanceMethod</li>
<li>Class::instanceMethod</li>
<li>Class::staticMethod</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// object::instanceMethod，即object.instanceMethod(param...)</span></span><br><span class="line">separator::equals, x-&gt; separator.equals(x);</span><br><span class="line">    </span><br><span class="line"><span class="comment">// Class::instanceMethod，即param1.instanceMethod(param2，param3...)</span></span><br><span class="line"><span class="comment">// 第一个参数会成为方法的隐式参数</span></span><br><span class="line">String::trim, x-&gt;x.trim();</span><br><span class="line">String::concat, (x,y)-&gt;x.concat(y);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Class::staticMethod，Class.staticMethod(param...)</span></span><br><span class="line">Integer::valueof, x-&gt;Integer.valueof(x);</span><br><span class="line">Integer::sum, (x,y)-&gt;Integer.sum(x,y)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果有重载方法，编译器会根据上下文进行推断，判断调用哪个方法。</p>
</blockquote>
<h4 id="关于this，super"><a href="#关于this，super" class="headerlink" title="关于this，super"></a>关于this，super</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="keyword">new</span> Timer(<span class="number">1000</span>, <span class="keyword">super</span>::greet);</span><br></pre></td></tr></table></figure>

<h4 id="构造器引用"><a href="#构造器引用" class="headerlink" title="构造器引用"></a>构造器引用</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Class::new</span></span><br><span class="line">Integer::<span class="keyword">new</span>, x-&gt;<span class="keyword">new</span> Integer(x);</span><br><span class="line">Integer[]::<span class="keyword">new</span>, x-&gt;<span class="keyword">new</span> Integer[x];</span><br></pre></td></tr></table></figure>

<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><p>lambda表达式的组成：</p>
<ol>
<li><p>一个代码块</p>
</li>
<li><p>参数</p>
<p>传入的参数是引用类型的话，传入的是引用的拷贝，即入参对象的引用不会改变</p>
</li>
<li><p>自由变量的值，指非参数而且不在表达式代码中定义的变量</p>
<p>自由变量必须是引用不会改变的，必须加final</p>
</li>
</ol>
<h3 id="处理lambda表达式"><a href="#处理lambda表达式" class="headerlink" title="处理lambda表达式"></a>处理lambda表达式</h3><p>lambda表达式的重点是代码块的延迟执行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Interface IntConsumer&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(<span class="keyword">int</span> value)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">repeat</span><span class="params">(<span class="keyword">int</span> n, IntConsumer action)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; n; i++) action.accept(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="基本类型的函数式接口"><a href="#基本类型的函数式接口" class="headerlink" title="基本类型的函数式接口"></a>基本类型的函数式接口</h4><table>
<thead>
<tr>
<th align="left">函数式接口</th>
<th>参数类型</th>
<th>返回类型</th>
<th>抽象方法名</th>
</tr>
</thead>
<tbody><tr>
<td align="left">BooleanSupplier</td>
<td>无</td>
<td>boolean</td>
<td>getAsBoolean</td>
</tr>
<tr>
<td align="left">PSupplier</td>
<td>无</td>
<td>p</td>
<td>getAsP</td>
</tr>
<tr>
<td align="left">PConsumer</td>
<td>p</td>
<td>void</td>
<td>accept</td>
</tr>
<tr>
<td align="left">objPConsumer<T></td>
<td>T,p</td>
<td>void</td>
<td>accept</td>
</tr>
<tr>
<td align="left">PFunction<T></td>
<td>p</td>
<td>T</td>
<td>apply</td>
</tr>
<tr>
<td align="left">PToQFunction</td>
<td>p</td>
<td>q</td>
<td>applyAsQ</td>
</tr>
<tr>
<td align="left">ToPFcuntion<T></td>
<td>T</td>
<td>p</td>
<td>applyAsP</td>
</tr>
<tr>
<td align="left">ToPBiFunction&lt;T,U&gt;</td>
<td>T,U</td>
<td>p</td>
<td>applyAsP</td>
</tr>
<tr>
<td align="left">PUnaryOperator</td>
<td>p</td>
<td>p</td>
<td>applyAsP</td>
</tr>
<tr>
<td align="left">PBinaryOperator</td>
<td>p,p</td>
<td>p</td>
<td>applyAsP</td>
</tr>
<tr>
<td align="left">PPredicate</td>
<td>p</td>
<td>boolean</td>
<td>test</td>
</tr>
</tbody></table>
<h3 id="Comparator接口-1"><a href="#Comparator接口-1" class="headerlink" title="Comparator接口"></a>Comparator接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Comparator.comparing返回一个Comparator实例，内部调用Person.getName方法</span></span><br><span class="line">Arrays.sort(people, Comparator.comparing(Person::getName));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个比较条件</span></span><br><span class="line">Arrays.sort(people, </span><br><span class="line">	Comparator.comparing(Person::getName)</span><br><span class="line">	.thenComparing(Person::getFirstName));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本类型的比较，避免装箱与拆箱</span></span><br><span class="line">Arrays.sort(people, Comparator.comparingInt(p -&gt; p.getName().length()));</span><br><span class="line"></span><br><span class="line"><span class="comment">// null类型适配器，避免NPE，将null标记为小于或大于正常值</span></span><br><span class="line">Arrays.sort(people, Comparator.comparing(</span><br><span class="line">	Person::getMiddleName, </span><br><span class="line">	Comparator.nullFirst(Comparator.&lt;String&gt;naturalOrder()));</span><br></pre></td></tr></table></figure>



<h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><p>定义：定义在一个类内部的类</p>
<ul>
<li>可以对同一个包中的其他类隐藏</li>
<li>内部类方法可以方位定义这个类的作用域中的数据，包括原本私有的数据</li>
</ul>
<p>实际是编译器生成的语法糖。</p>
<h3 id="内部类访问外部对象状态"><a href="#内部类访问外部对象状态" class="headerlink" title="内部类访问外部对象状态"></a>内部类访问外部对象状态</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TalkingClock</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> interval;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> beep;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TalkingClock</span><span class="params">(<span class="keyword">int</span> interval, <span class="keyword">boolean</span> beep)</span></span>&#123;...&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> listener = <span class="keyword">new</span> TimePrinter();</span><br><span class="line">        <span class="comment">// 实例化内部类</span></span><br><span class="line">        <span class="keyword">var</span> timer = <span class="keyword">new</span> Timter(interval, listener); </span><br><span class="line">        timer.start();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimePrinter</span> <span class="keyword">implements</span> <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent event)</span> </span>&#123;</span><br><span class="line">        	<span class="comment">// 访问外部对象状态</span></span><br><span class="line">        	<span class="keyword">if</span>(beep)&#123;...&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="特殊语法规则"><a href="#特殊语法规则" class="headerlink" title="特殊语法规则"></a>特殊语法规则</h3><ul>
<li><p>显示引用外部对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OuterClass.this</span></span><br><span class="line"><span class="keyword">if</span>(TalkingClock.<span class="keyword">this</span>.beep) &#123;...&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>外部类显示构造内部对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// outerObject.new InnerClass(construction parameters)</span></span><br><span class="line">ActionListener listener = <span class="keyword">this</span>.<span class="function">new <span class="title">TimePrinter</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li>
<li><p>外部类之外，使用内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jabberer = <span class="keyword">new</span> TalkingClock(<span class="number">1000</span>, <span class="keyword">true</span>);</span><br><span class="line">TalkingClock.TimePrinter listener = jabberer.n<span class="function">ew <span class="title">TimePrinter</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="内部类是否有用、必要和安全"><a href="#内部类是否有用、必要和安全" class="headerlink" title="内部类是否有用、必要和安全"></a>内部类是否有用、必要和安全</h3><p>内部类是一个编译器现象，与虚拟机无关。编译器会把内部类转换为常规的类文件，用$分隔外部类名与内部类名，而虚拟机对此一无所知。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">innerClass</span>.<span class="title">TalkingClock</span>$<span class="title">TimePrinter</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">awt</span>.<span class="title">event</span>.<span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 程序员不能使用这个字段，因为this$0是编译器在编译时生成的，存储外部类的对象引用</span></span><br><span class="line">    <span class="keyword">final</span> innerClass.TalkingClock <span class="keyword">this</span>$<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> innerClass.TalkingClock$TimePrinter(innerClass.TalkingClock);</span><br><span class="line">   	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(java.awt.event.ActionEvent)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">class Talking </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> interval;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> beep;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TalkingClock</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">boolean</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 编译生成，用来给内部类访问外部类的状态值的方法</span></span><br><span class="line">    <span class="comment">// if(beep) 将转换为 if(TalkingClock.access$0(this$0))</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">boolean</span> access$<span class="number">0</span>(TalkingClock);</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>缺陷：会被属性程序结构的黑客调用虚拟机方法获取内部状态，由于隐私方法需要拥有包可见性，因此攻击代码要与被攻击类放在同一个包中。</p>
</blockquote>
<h4 id="私有内部类的构造器和方法"><a href="#私有内部类的构造器和方法" class="headerlink" title="私有内部类的构造器和方法"></a>私有内部类的构造器和方法</h4><p>虚拟机中不存在私有类，编译器会生成一个近乎最好的结果，生成的这个类有包可见性和一个私有构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> TalkingClock$TimePrinter(TalkingClock);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 它将调用第一个构造器，TalkingClock$1类只是为了将这个构造器和其他构造器区分开</span></span><br><span class="line"><span class="comment">// 这样不会无意中调用该方法，其包含了一个TalkingClock$1类</span></span><br><span class="line">TalkingClock$TimePrinter(TalkingClock, TalkingClock$<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// TalkingClock类start方法中的构造器调用将被转换为</span></span><br><span class="line">TalkingClock$TimePrinter(<span class="keyword">this</span>, <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<h3 id="局部内部类"><a href="#局部内部类" class="headerlink" title="局部内部类"></a>局部内部类</h3><p>局部类不能有访问修饰符（private，public）</p>
<p>局部类的作用域被限定在声明这个局部类的块中</p>
<p>局部类对外界完全隐藏，除了start方法外都不能访问它。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">TimePrinter</span> <span class="keyword">implements</span> <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent event)</span> </span>&#123;</span><br><span class="line">        	<span class="keyword">if</span>(beep)&#123;...&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> listener = <span class="keyword">new</span> TimePrinter();</span><br><span class="line"><span class="keyword">var</span> timer = <span class="keyword">new</span> Timer(interval, listener);</span><br><span class="line">timer.start();</span><br></pre></td></tr></table></figure>

<h3 id="由外部方法访问变量"><a href="#由外部方法访问变量" class="headerlink" title="由外部方法访问变量"></a>由外部方法访问变量</h3><p>局部类不仅可以访问外部类的字段，还可以访问局部变量，不过局部变量必须时事实最终变量（即一旦赋值绝不改变）。</p>
<p>局部最终变量原因：传递给内部类的时候会对值进行复制（调用构造器，元类型复制值，对象类型复制地址），此时要保证传递时与使用时值是一致的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">(<span class="keyword">int</span> interval, <span class="keyword">int</span> beep)</span></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">TimePrinter</span> <span class="keyword">implements</span> <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent event)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// beep就是事实最终变量</span></span><br><span class="line">        	<span class="keyword">if</span>(beep)&#123;...&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TalkingClock</span>$<span class="title">TimePrinter</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">awt</span>.<span class="title">event</span>.<span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> TalkingClock <span class="keyword">this</span>$<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">boolean</span> val$beep;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 编译器生成对应构造函数，用于保存局部变量</span></span><br><span class="line">    <span class="keyword">public</span> TalkingClock$TimePrinter(TalkingClock, <span class="keyword">boolean</span>);</span><br><span class="line">   	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(java.awt.event.ActionEvent)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="匿名内部类（lambda实际原理）"><a href="#匿名内部类（lambda实际原理）" class="headerlink" title="匿名内部类（lambda实际原理）"></a>匿名内部类（lambda实际原理）</h3><p>如果只想创建这个类的一个对象，甚至不需要为类指定名字，这样的类称为匿名内部类（即把类名都省略掉）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">(<span class="keyword">int</span> interval, <span class="keyword">int</span> beep)</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> listener = <span class="keyword">new</span> ActionListener()</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent event)</span> </span>&#123;</span><br><span class="line">        	<span class="keyword">if</span>(beep)&#123;...&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><p>含义：创建一个类的新对象，这个类实现了SuperType（可以是接口/类），需要实现的方法在 {} 内定义</p>
<p>匿名类没有类名，所以不能有构造器。实际上，构造参数要传递给超类的构造器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new SuperType(construction parameters) &#123;</span><br><span class="line">	inner class methods and data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>具体的，内部类实现一个接口，就不能有任何构造参数。不过仍然要提供一组小括号。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> InterfaceType()&#123;</span><br><span class="line">	methods and data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h3><p>有时候，使用内部类只是为了把一个类隐藏在另外一个类内部，并不需要有外围类对象的引用，为此，可以将内部类声明为static，这样就不会生成那个引用。</p>
<p>只有内部类可以声明为static、private，静态内部类类似于其他内部类，不过静态内部类没有生成他的外围类的对象引用。</p>
<ul>
<li>内部类不需要访问外围类对象，就应该使用静态内部类</li>
<li>与常规内部类不同，静态内部类可以有静态字段和方法</li>
<li>在接口中声明的内部类自动是static和public</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArrayAlg</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><h3 id="何时使用代理"><a href="#何时使用代理" class="headerlink" title="何时使用代理"></a>何时使用代理</h3><p>利用代理可以在运行时创建实现了一组给定接口的新类。</p>
<p>只有在编译时期无法确定需要实现哪个接口时才有必要使用代理。</p>
<p>代理类可以在运行时创建全新的类，这样代理类能够实现你指定的接口。</p>
<p>代理类包含以下方法</p>
<ul>
<li>指定接口所需的全部方法</li>
<li>Object类中的全部方法，例如，toString，equals等</li>
</ul>
<h3 id="创建代理对象"><a href="#创建代理对象" class="headerlink" title="创建代理对象"></a>创建代理对象</h3><p>使用Proxy类的newInstance方法</p>
<ul>
<li>一个类加载器</li>
<li>一个class对象数组，每个元素对应需要实现的各个接口</li>
<li>一个调用处理器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 调用器，处理代理逻辑</span></span><br><span class="line"><span class="keyword">public</span> TraceHandler implements InvocationHandler</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TraceHandler</span><span class="params">(Object t)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        target = t;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method m, Object[] args)</span> <span class="keyword">throws</span> Throwable</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> m.invoke(target, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化调用器</span></span><br><span class="line"><span class="keyword">var</span> handler =  <span class="keyword">new</span> TraceHandler(value);</span><br><span class="line"><span class="comment">// 代理类构造器</span></span><br><span class="line">Object proxy = Proxy.newProxyInstance(ClassLoader.getSystemClassLoader(),</span><br><span class="line">                                <span class="keyword">new</span> Class[] &#123;Comparable.class&#125;,</span><br><span class="line">                                handler);</span><br></pre></td></tr></table></figure>

<h3 id="代理类的特性"><a href="#代理类的特性" class="headerlink" title="代理类的特性"></a>代理类的特性</h3><ul>
<li><p>代理类时在程序运行过程中动态创建的，一旦被创建，他们就变成了常规类，与虚拟机中其他类没有什么区别。</p>
</li>
<li><p>所有代理类都扩展Proxy类，一个代理类只有一个实例字段–即调用处理器，它在Proxy超类中定义。</p>
</li>
<li><p>所有代理类都要覆盖Object类的toString、equals、hashCode方法</p>
</li>
<li><p>没有定义代理类的名字，Oracle虚拟机将生成一个以字符串$Proxy开头的类名</p>
</li>
<li><p>对于一个特点的类加载器和预设的一组接口来说，只能有一个代理类</p>
<p>如果使用同一个类加载器和接口数组调用两次newProxyInstance将得到同一个类的两个对象。</p>
<p>也可以利用Proxy.getProxyClass(null, interfaces)获取这个类</p>
</li>
<li><p>代理类总是public和final</p>
<p>如果代理类实现的所有接口都是public，这个代理类就不属于任何特定的包，否则所有非公共的接口都必须属于同一个包，同时代理类也属于这个包。</p>
</li>
<li><p>可以通过Proxy.isProxyClass方法检测一个特定的Class对象是否表示一个代理类</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.InvocationHandler;</span><br><span class="line"></span><br><span class="line"><span class="function">Object <span class="title">invode</span><span class="params">(Object proxy, Method method, Object[] args)</span></span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect,Proxy;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回实现指定接口的代理类</span></span><br><span class="line"><span class="keyword">static</span> Class&lt;?&gt; getProxyClass(ClassLoader loader, Class&lt;?&gt;... interfaces);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造实现指定接口的代理类实例，所有方法都调用给定处理器对象的invoke方法</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Object <span class="title">newProxyInstance</span><span class="params">(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler handler)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果cl是一个代理类，则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isProxyClass</span><span class="params">(Class&lt;?&gt; cl)</span></span></span><br></pre></td></tr></table></figure>



<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>应该精心地编写代码来避免这些错误的发生，而不要将精力花在编写异常处理器上 </p>
<h1 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h1><ul>
<li>java中nio分为文件io和网络io，对于os这是两块不同的东西，java进行了包装</li>
<li>java的i/o就是对操作系统接口的封装</li>
<li>io中核心类是ByteBuffer，分为DirectByteBuffer和HeapByteBuffer<ul>
<li>HeapByteBuffer，受gc管理，就是个java普通数组</li>
<li>DirectByteBuffer，数组，实际在堆外，nio中用来进行文件的读写</li>
</ul>
</li>
<li>文件拷贝<ul>
<li>传统IO<br><img src="java-core/70476a6a27e9bc9248aed693b74490db.png" alt="截图"></li>
<li>NIO<br><img src="java-core/dae4f96bdb4a5a31737ff5cb2ce788c3.png" alt="截图"></li>
</ul>
</li>
<li></li>
</ul>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/java/">java</a></div><!--!--></article></div><!--!--><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/dog.jpg" alt="鸽德巴赫"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">鸽德巴赫</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">1</p></a></div></div></nav></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#基本结构"><span class="level-left"><span class="level-item">1</span><span class="level-item">基本结构</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#注释"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">注释</span></span></a></li><li><a class="level is-mobile" href="#数据类型"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">数据类型</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#整数"><span class="level-left"><span class="level-item">1.2.1</span><span class="level-item">整数</span></span></a></li><li><a class="level is-mobile" href="#浮点数"><span class="level-left"><span class="level-item">1.2.2</span><span class="level-item">浮点数</span></span></a></li><li><a class="level is-mobile" href="#char"><span class="level-left"><span class="level-item">1.2.3</span><span class="level-item">char</span></span></a></li><li><a class="level is-mobile" href="#bool"><span class="level-left"><span class="level-item">1.2.4</span><span class="level-item">bool</span></span></a></li></ul></li><li><a class="level is-mobile" href="#变量"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">变量</span></span></a></li><li><a class="level is-mobile" href="#运算符"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">运算符</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#算术运算符"><span class="level-left"><span class="level-item">1.4.1</span><span class="level-item">算术运算符</span></span></a></li><li><a class="level is-mobile" href="#自增、自减"><span class="level-left"><span class="level-item">1.4.2</span><span class="level-item">自增、自减</span></span></a></li><li><a class="level is-mobile" href="#关系运算"><span class="level-left"><span class="level-item">1.4.3</span><span class="level-item">关系运算</span></span></a></li><li><a class="level is-mobile" href="#布尔运算"><span class="level-left"><span class="level-item">1.4.4</span><span class="level-item">布尔运算</span></span></a></li><li><a class="level is-mobile" href="#位运算"><span class="level-left"><span class="level-item">1.4.5</span><span class="level-item">位运算</span></span></a></li><li><a class="level is-mobile" href="#数学运算与常量"><span class="level-left"><span class="level-item">1.4.6</span><span class="level-item">数学运算与常量</span></span></a></li><li><a class="level is-mobile" href="#类型转换"><span class="level-left"><span class="level-item">1.4.7</span><span class="level-item">类型转换</span></span></a></li><li><a class="level is-mobile" href="#强制转换"><span class="level-left"><span class="level-item">1.4.8</span><span class="level-item">强制转换</span></span></a></li><li><a class="level is-mobile" href="#括号与算术符优先级"><span class="level-left"><span class="level-item">1.4.9</span><span class="level-item">括号与算术符优先级</span></span></a></li><li><a class="level is-mobile" href="#枚举类型"><span class="level-left"><span class="level-item">1.4.10</span><span class="level-item">枚举类型</span></span></a></li></ul></li><li><a class="level is-mobile" href="#字符串"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">字符串</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#子串"><span class="level-left"><span class="level-item">1.5.1</span><span class="level-item">子串</span></span></a></li><li><a class="level is-mobile" href="#拼接"><span class="level-left"><span class="level-item">1.5.2</span><span class="level-item">拼接</span></span></a></li><li><a class="level is-mobile" href="#不可变字符串"><span class="level-left"><span class="level-item">1.5.3</span><span class="level-item">不可变字符串</span></span></a></li><li><a class="level is-mobile" href="#检测是否相等"><span class="level-left"><span class="level-item">1.5.4</span><span class="level-item">检测是否相等</span></span></a></li><li><a class="level is-mobile" href="#空串与null串"><span class="level-left"><span class="level-item">1.5.5</span><span class="level-item">空串与null串</span></span></a></li><li><a class="level is-mobile" href="#代码点和代码单元"><span class="level-left"><span class="level-item">1.5.6</span><span class="level-item">代码点和代码单元</span></span></a></li><li><a class="level is-mobile" href="#常用函数"><span class="level-left"><span class="level-item">1.5.7</span><span class="level-item">常用函数</span></span></a></li></ul></li><li><a class="level is-mobile" href="#构建字符串"><span class="level-left"><span class="level-item">1.6</span><span class="level-item">构建字符串</span></span></a></li><li><a class="level is-mobile" href="#输入输出"><span class="level-left"><span class="level-item">1.7</span><span class="level-item">输入输出</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#控制台输入（Scanner）"><span class="level-left"><span class="level-item">1.7.1</span><span class="level-item">控制台输入（Scanner）</span></span></a></li><li><a class="level is-mobile" href="#格式化输出"><span class="level-left"><span class="level-item">1.7.2</span><span class="level-item">格式化输出</span></span></a></li><li><a class="level is-mobile" href="#文件输入和输出"><span class="level-left"><span class="level-item">1.7.3</span><span class="level-item">文件输入和输出</span></span></a></li></ul></li><li><a class="level is-mobile" href="#控制流程"><span class="level-left"><span class="level-item">1.8</span><span class="level-item">控制流程</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#块作用域"><span class="level-left"><span class="level-item">1.8.1</span><span class="level-item">块作用域</span></span></a></li><li><a class="level is-mobile" href="#条件语句"><span class="level-left"><span class="level-item">1.8.2</span><span class="level-item">条件语句</span></span></a></li><li><a class="level is-mobile" href="#循环"><span class="level-left"><span class="level-item">1.8.3</span><span class="level-item">循环</span></span></a></li><li><a class="level is-mobile" href="#确定循环"><span class="level-left"><span class="level-item">1.8.4</span><span class="level-item">确定循环</span></span></a></li><li><a class="level is-mobile" href="#多重选择switch"><span class="level-left"><span class="level-item">1.8.5</span><span class="level-item">多重选择switch</span></span></a></li><li><a class="level is-mobile" href="#循环控制"><span class="level-left"><span class="level-item">1.8.6</span><span class="level-item">循环控制</span></span></a></li></ul></li><li><a class="level is-mobile" href="#大数值"><span class="level-left"><span class="level-item">1.9</span><span class="level-item">大数值</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#BigInteger：任意精度整数运算"><span class="level-left"><span class="level-item">1.9.1</span><span class="level-item">BigInteger：任意精度整数运算</span></span></a></li><li><a class="level is-mobile" href="#BigDemical：任意精度浮点数运算"><span class="level-left"><span class="level-item">1.9.2</span><span class="level-item">BigDemical：任意精度浮点数运算</span></span></a></li></ul></li><li><a class="level is-mobile" href="#数组"><span class="level-left"><span class="level-item">1.10</span><span class="level-item">数组</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#声明"><span class="level-left"><span class="level-item">1.10.1</span><span class="level-item">声明</span></span></a></li><li><a class="level is-mobile" href="#for-each循环"><span class="level-left"><span class="level-item">1.10.2</span><span class="level-item">for each循环</span></span></a></li><li><a class="level is-mobile" href="#数组初始化及匿名数组"><span class="level-left"><span class="level-item">1.10.3</span><span class="level-item">数组初始化及匿名数组</span></span></a></li><li><a class="level is-mobile" href="#数组拷贝"><span class="level-left"><span class="level-item">1.10.4</span><span class="level-item">数组拷贝</span></span></a></li><li><a class="level is-mobile" href="#命令行参数"><span class="level-left"><span class="level-item">1.10.5</span><span class="level-item">命令行参数</span></span></a></li><li><a class="level is-mobile" href="#Arrays函数"><span class="level-left"><span class="level-item">1.10.6</span><span class="level-item">Arrays函数</span></span></a></li><li><a class="level is-mobile" href="#多维数组与不规则数组"><span class="level-left"><span class="level-item">1.10.7</span><span class="level-item">多维数组与不规则数组</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#对象与类"><span class="level-left"><span class="level-item">2</span><span class="level-item">对象与类</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#概述"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">概述</span></span></a></li><li><a class="level is-mobile" href="#类使用"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">类使用</span></span></a></li><li><a class="level is-mobile" href="#类组成"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">类组成</span></span></a></li><li><a class="level is-mobile" href="#修饰符"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">修饰符</span></span></a></li><li><a class="level is-mobile" href="#对象构造"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">对象构造</span></span></a></li><li><a class="level is-mobile" href="#包"><span class="level-left"><span class="level-item">2.6</span><span class="level-item">包</span></span></a></li><li><a class="level is-mobile" href="#类路径"><span class="level-left"><span class="level-item">2.7</span><span class="level-item">类路径</span></span></a></li><li><a class="level is-mobile" href="#文档注释"><span class="level-left"><span class="level-item">2.8</span><span class="level-item">文档注释</span></span></a></li></ul></li><li><a class="level is-mobile" href="#继承（类的扩展）"><span class="level-left"><span class="level-item">3</span><span class="level-item">继承（类的扩展）</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#类、超类、子类"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">类、超类、子类</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#语法"><span class="level-left"><span class="level-item">3.1.1</span><span class="level-item">语法</span></span></a></li><li><a class="level is-mobile" href="#使用"><span class="level-left"><span class="level-item">3.1.2</span><span class="level-item">使用</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Object：所有类的超类"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Object：所有类的超类</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#相等测试与继承"><span class="level-left"><span class="level-item">3.2.1</span><span class="level-item">相等测试与继承</span></span></a></li></ul></li><li><a class="level is-mobile" href="#对象包装器与自动装箱、拆箱"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">对象包装器与自动装箱、拆箱</span></span></a></li><li><a class="level is-mobile" href="#参数变量可变的方法"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">参数变量可变的方法</span></span></a></li><li><a class="level is-mobile" href="#枚举类"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">枚举类</span></span></a></li><li><a class="level is-mobile" href="#反射"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">反射</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Class"><span class="level-left"><span class="level-item">3.6.1</span><span class="level-item">Class</span></span></a></li><li><a class="level is-mobile" href="#分析类的能力"><span class="level-left"><span class="level-item">3.6.2</span><span class="level-item">分析类的能力</span></span></a></li><li><a class="level is-mobile" href="#分析对象"><span class="level-left"><span class="level-item">3.6.3</span><span class="level-item">分析对象</span></span></a></li><li><a class="level is-mobile" href="#数组操作"><span class="level-left"><span class="level-item">3.6.4</span><span class="level-item">数组操作</span></span></a></li><li><a class="level is-mobile" href="#方法调用"><span class="level-left"><span class="level-item">3.6.5</span><span class="level-item">方法调用</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#接口"><span class="level-left"><span class="level-item">4</span><span class="level-item">接口</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#语法-1"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">语法</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#定义"><span class="level-left"><span class="level-item">4.1.1</span><span class="level-item">定义</span></span></a></li><li><a class="level is-mobile" href="#接口的属性"><span class="level-left"><span class="level-item">4.1.2</span><span class="level-item">接口的属性</span></span></a></li><li><a class="level is-mobile" href="#接口与抽象类"><span class="level-left"><span class="level-item">4.1.3</span><span class="level-item">接口与抽象类</span></span></a></li><li><a class="level is-mobile" href="#静态和私有方法"><span class="level-left"><span class="level-item">4.1.4</span><span class="level-item">静态和私有方法</span></span></a></li><li><a class="level is-mobile" href="#默认方法"><span class="level-left"><span class="level-item">4.1.5</span><span class="level-item">默认方法</span></span></a></li><li><a class="level is-mobile" href="#默认方法冲突"><span class="level-left"><span class="level-item">4.1.6</span><span class="level-item">默认方法冲突</span></span></a></li></ul></li><li><a class="level is-mobile" href="#使用-1"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">使用</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#接口与回调"><span class="level-left"><span class="level-item">4.2.1</span><span class="level-item">接口与回调</span></span></a></li><li><a class="level is-mobile" href="#Comparator接口"><span class="level-left"><span class="level-item">4.2.2</span><span class="level-item">Comparator接口</span></span></a></li><li><a class="level is-mobile" href="#对象克隆"><span class="level-left"><span class="level-item">4.2.3</span><span class="level-item">对象克隆</span></span></a></li></ul></li><li><a class="level is-mobile" href="#lambda表达式"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">lambda表达式</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#语法-2"><span class="level-left"><span class="level-item">4.3.1</span><span class="level-item">语法</span></span></a></li><li><a class="level is-mobile" href="#函数式接口"><span class="level-left"><span class="level-item">4.3.2</span><span class="level-item">函数式接口</span></span></a></li><li><a class="level is-mobile" href="#方法引用"><span class="level-left"><span class="level-item">4.3.3</span><span class="level-item">方法引用</span></span></a></li><li><a class="level is-mobile" href="#变量作用域"><span class="level-left"><span class="level-item">4.3.4</span><span class="level-item">变量作用域</span></span></a></li><li><a class="level is-mobile" href="#处理lambda表达式"><span class="level-left"><span class="level-item">4.3.5</span><span class="level-item">处理lambda表达式</span></span></a></li><li><a class="level is-mobile" href="#Comparator接口-1"><span class="level-left"><span class="level-item">4.3.6</span><span class="level-item">Comparator接口</span></span></a></li></ul></li><li><a class="level is-mobile" href="#内部类"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">内部类</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#内部类访问外部对象状态"><span class="level-left"><span class="level-item">4.4.1</span><span class="level-item">内部类访问外部对象状态</span></span></a></li><li><a class="level is-mobile" href="#特殊语法规则"><span class="level-left"><span class="level-item">4.4.2</span><span class="level-item">特殊语法规则</span></span></a></li><li><a class="level is-mobile" href="#内部类是否有用、必要和安全"><span class="level-left"><span class="level-item">4.4.3</span><span class="level-item">内部类是否有用、必要和安全</span></span></a></li><li><a class="level is-mobile" href="#局部内部类"><span class="level-left"><span class="level-item">4.4.4</span><span class="level-item">局部内部类</span></span></a></li><li><a class="level is-mobile" href="#由外部方法访问变量"><span class="level-left"><span class="level-item">4.4.5</span><span class="level-item">由外部方法访问变量</span></span></a></li><li><a class="level is-mobile" href="#匿名内部类（lambda实际原理）"><span class="level-left"><span class="level-item">4.4.6</span><span class="level-item">匿名内部类（lambda实际原理）</span></span></a></li><li><a class="level is-mobile" href="#静态内部类"><span class="level-left"><span class="level-item">4.4.7</span><span class="level-item">静态内部类</span></span></a></li></ul></li><li><a class="level is-mobile" href="#代理"><span class="level-left"><span class="level-item">4.5</span><span class="level-item">代理</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#何时使用代理"><span class="level-left"><span class="level-item">4.5.1</span><span class="level-item">何时使用代理</span></span></a></li><li><a class="level is-mobile" href="#创建代理对象"><span class="level-left"><span class="level-item">4.5.2</span><span class="level-item">创建代理对象</span></span></a></li><li><a class="level is-mobile" href="#代理类的特性"><span class="level-left"><span class="level-item">4.5.3</span><span class="level-item">代理类的特性</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#异常"><span class="level-left"><span class="level-item">5</span><span class="level-item">异常</span></span></a></li><li><a class="level is-mobile" href="#I-O"><span class="level-left"><span class="level-item">6</span><span class="level-item">I/O</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/dog.jpg" alt="个人博客" height="28"></a><p class="is-size-7"><span>&copy; 2021 鸽德巴赫</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>